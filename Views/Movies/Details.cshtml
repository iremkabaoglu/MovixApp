@model MovixApp.Models.Movie
@{
    var title = Model?.Title ?? "Film";
    ViewData["Title"] = title;

    // Poster url'si (yoksa null)
    string poster = !string.IsNullOrWhiteSpace(Model?.PosterPath)
        ? $"https://image.tmdb.org/t/p/w780{Model.PosterPath}"
        : null;
}

<div class="container">
    <div class="row g-4 align-items-start">

        <!-- POSTER -->
        <div class="col-12 col-md-4">
            @if (!string.IsNullOrEmpty(poster))
            {
                <img src="@poster"
                     alt="@title"
                     class="img-fluid rounded shadow"
                     onerror="this.style.display='none'">
            }
            else
            {
                <div class="bg-dark border border-secondary rounded d-flex align-items-center justify-content-center"
                     style="height:480px;">
                    <span class="text-secondary">Poster bulunamadı</span>
                </div>
            }
        </div>

        <!-- BİLGİLER -->
        <div class="col-12 col-md-8">
            <h2 class="mb-2">@title</h2>

            <div class="d-flex align-items-center mb-3">
                <span class="me-2">⭐</span>
                <span class="fw-semibold">@Model?.VoteAverage.ToString("0.0")</span>
                <span class="text-secondary ms-2">(TMDB)</span>
            </div>

            <div class="card">
                <div class="card-body">
                    <h6 class="text-secondary mb-2">Özet</h6>
                    <p class="mb-0">
                        @(string.IsNullOrWhiteSpace(Model?.Overview)
                            ? "Bu film için özet bilgisi bulunamadı."
                            : Model!.Overview)
                    </p>
                </div>
            </div>

            <div class="mt-4 d-flex flex-wrap gap-2">
                <a asp-controller="Movies" asp-action="Index" class="btn btn-outline-light">
                    ← Listeye Dön
                </a>

                <!-- Favori/İzledim butonları (ileride Identity + DB ile bağlayacağız) -->
                <button type="button" class="btn btn-main" disabled title="Yakında">
                    ❤️ Favorilere Ekle
                </button>
                <button type="button" class="btn btn-outline-light" disabled title="Yakında">
                    ✔️ İzledim
                </button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // ileride trailer/oyuncular bölümünü dinamik yüklemek istersen burada kullanırız
    </script>
}
